This DEPLOY.md guide outlines the steps to deploy your Node.js + Express + TypeScript application to an AWS EC2 instance using PM2 for process management and Nginx as a reverse proxy.
Deployment Guide: Node.js + Express + TS on AWS EC2
1. Provision Your EC2 Instance
Launch Instance: Select Ubuntu 24.04 LTS (or 22.04) as the Amazon Machine Image (AMI).
Instance Type: Choose t2.micro or t3.micro for the Free Tier.
Security Group: Ensure the following Inbound Rules are set:
SSH (22): Your IP only (recommended).
HTTP (80): Anywhere.
HTTPS (443): Anywhere.
2. Connect and Update
Connect via SSH using your .pem key:
bash
ssh -i "your-key.pem" ubuntu@your-ec2-public-ip
sudo apt update && sudo apt upgrade -y
Use code with caution.

3. Install Node.js and PM2
Use NVM (Node Version Manager) to install a specific Node.js version.
bash
# Install NVM
curl -o- raw.githubusercontent.com | bash
source ~/.bashrc

# Install Node.js (v22 or latest LTS)
nvm install 22
node -v

# Install PM2 globally
npm install -g pm2
Use code with caution.

4. Deploy Your Code
Clone your repository and install dependencies.
bash
git clone 
Use code with caution.

bash
github.com
Use code with caution.

bash

cd your-repo
npm install
Use code with caution.

5. Build and Start the Application
Compile the TypeScript code to JavaScript and use PM2 to manage the process.
bash
# Build the TS project
npm run build

# Start the application with PM2
# Replace 'dist/index.js' with your compiled entry point
pm2 start dist/index.js --name "my-app"

# Ensure PM2 restarts on server reboot
pm2 startup systemd
# (Run the command generated by the previous step)
pm2 save
Use code with caution.

6. Configure Nginx Reverse Proxy
Install Nginx to forward traffic from port 80 to your Node.js app (e.g., port 3000).
bash
sudo apt install nginx -y
sudo nano /etc/nginx/sites-available/default
Use code with caution.

Replace the location / block in the file with the following:
nginx
location / {
    proxy_pass http://localhost:3000; # Change 3000 to your app port
    proxy_http_version 1.1;
    proxy_set_header Upgrade $http_upgrade;
    proxy_set_header Connection 'upgrade';
    proxy_set_header Host $host;
    proxy_cache_bypass $http_upgrade;
}
Use code with caution.

Test and restart Nginx:
bash
sudo nginx -t
sudo systemctl restart nginx
Use code with caution.

Post-Deployment Checklist
SSL: Use Certbot to install a free SSL certificate for HTTPS.
Secrets: Never commit your .env file; create it manually on the EC2 instance using nano .env.
Logs: Monitor your app logs using pm2 logs my-app.
Would you like me to create a GitHub Actions workflow file to automate this entire deployment process every time you push code to your main branch?